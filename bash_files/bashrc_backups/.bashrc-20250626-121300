export PATH="$HOME/.pyenv/shims:$PATH"

# ----------------------------------------
# pyenv setup
# ----------------------------------------
export PATH="$HOME/.pyenv/bin:$PATH"
eval "$(pyenv init --path)"
eval "$(pyenv init -)"
eval "$(pyenv virtualenv-init -)"

# ----------------------------------------
# Quick Aliases for Efficiency
# ----------------------------------------

# Removed forced python version aliases (let pyenv handle this)
# alias python='python3.11'
# alias python3='python3.12'

alias ls='ls --color=auto'
alias ll='ls -alF'
alias la='ls -A'
alias l='ls -CF'
alias las='ls -la'

alias grep='grep --color=auto'
alias fgrep='fgrep --color=auto'
alias egrep='egrep --color=auto'

alias home='cd ~'
alias projects='cd ~/projects'
alias clones='cd ~/projects/clones'
alias mnt='cd /mnt/c/Users/WorkStation/'
alias mnte='cd /mnt/e/documents'

alias reload='source ~/.bashrc'

alias update_repos="$HOME/projects/bash_files/update_repos.sh"
alias editbashrc="$HOME/projects/bash_files/edit_and_backup_bashrc.sh"
alias update_permissions="$HOME/projects/bash_files/update_permissions.sh"
alias update_permissions_gdpr="$HOME/projects/bash_files/update_permissions_gdpr.sh"
alias deploy="$HOME/projects/bash_files/deployment_setup.sh"
alias aws-upload="$HOME/projects/bash_files/aws-upload.sh"
alias clean_repos="$HOME/projects/bash_files/clean_repos.sh"
alias clean_terraform="$HOME/projects/clones/script.sh"
alias delete-aws-resources="/usr/bin/python3 /home/projects/bash_files/delete_resources.py"

alias alert='notify-send --urgency=low -i "$([ $? = 0 ] && echo terminal || echo error)" "$(history | tail -n1 | sed -e '\''s/^\s*[0-9]\+\s*//;s/[;&|]\s*alert$//'\'')"'

# ----------------------------------------
# WSL Detection
# ----------------------------------------

if grep -qi microsoft /proc/version; then
    echo "WSL environment detected."
fi

# ----------------------------------------
# Custom Prompt
# ----------------------------------------

if [[ $- == *i* ]]; then
    PS1='${debian_chroot:+($debian_chroot)}\[\033[01;32m\]\u@\h\[\033[00m\]:\[\033[01;34m\]\w\[\033[00m\]\$ '
    case "$TERM" in
        xterm*|rxvt*)
            PS1="\[\e]0;${debian_chroot:+($debian_chroot)}\u@\h: \w\a\]$PS1"
            ;;
    esac
fi

# Change to ~/projects/clones directory only for original login shell
if [[ "$PWD" == "$HOME" ]] && [[ -n "$WSL_DISTRO_NAME" ]] && [[ $- == *i* ]] && [[ -z "$BASH_EXECUTION_STRING" ]]; then
  cd ~/projects/clones
fi

echo "Terminal ready."

